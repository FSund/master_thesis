\subsection{Validation}
% \todoao{Write more about testing diamondsquare/SRA}%
% \todobo{colormap plot from above of surface?}%
To test the method for generating random surfaces, and to check that the Hurst exponent of the surfaces correspond to the wanted exponent, we generate surfaces and measure the Hurst exponent using the detrending moving average method from \cref{sec:dma}. We have implemented both the midpoint displacement method and successive random additions for generating random surfaces, both for periodic and non-periodic surfaces. A plot of the measured Hurst exponent (using DMA) as function of the input Hurst exponent can be seen in \cref{fig:diamond_square_testing}.%
%
\begin{figure}[!htb]%
    \centering%
    {
        \newcommand{\f}{\footnotesize}%
        \newcommand{\x}{\text}%
        \newcommand{\hh}{{\f $H_\x{in}=H_\x{out}$}}%
        \includesvg[width=0.7\textwidth, svgpath=./images/diamond_square_Hurst/test_diamondSquare/]{fig06}%
    }
    %
    % ---- Footnotemark in caption, and footnotetext below ---- %
    \caption[%
        Plot of the Hurst exponent measured using detrending moving average (DMA), as function of the input Hurst exponent to the synthesizing method. The dashed grey line indicates a measured Hurst exponent of 0.75, the solid grey line a measured exponent exactly equal to the input exponent ($H_\text{in} = H_\text{out}$). The green lines are for surfaces created using periodic boundary conditions (PBC), the red lines using non-periodic boundaries, the dashed lines using successive random additions (SRA), and the solid lines using the regular midpoint displacement method (MDM). We used 100 samples for each point, and input Hurst exponents between 0 and 1.2 in steps of 0.1. We have plotted the standard deviation in each point for SRA with periodic boundary conditions, and the standard deviation is about the same for the other combinations. %
    ]{%
        Plot of the Hurst exponent measured using detrending moving average (DMA), as function of the input Hurst exponent to the synthesizing method. The dashed grey line indicates a measured Hurst exponent of 0.75, the solid grey line a measured exponent exactly equal to the input exponent ($H_\text{in} = H_\text{out}$). The green lines are for surfaces created using periodic boundary conditions (PBC), the red lines using non-periodic boundaries, the dashed lines using successive random additions (SRA), and the solid lines using the regular midpoint displacement method (MDM). We used 100 samples for each point, and input Hurst exponents between 0 and 1.2\protect\footnotemark\ in steps of 0.1. We have plotted the standard deviation in each point for SRA with periodic boundary conditions, and the standard deviation is about the same for the other combinations of methods and boundary conditions. %
        \label{fig:diamond_square_testing}%
    }%
%     %
%     % ---- Footnote in caption, and separate lof caption ---- %
%     \caption[%
%         Plot of the Hurst exponent measured using detrending moving average (DMA), as function of the input Hurst exponent to the synthesizing method. The dashed grey line indicates a measured Hurst exponent of 0.75, the solid grey line a measured exponent exactly equal to the input exponent ($H_\text{in} = H_\text{out}$). The green lines are for surfaces created using periodic boundary conditions (PBC), the red lines using non-periodic boundaries, the dashed lines using successive random additions (SRA), and the solid lines using the regular midpoint displacement method (MDM). We used 100 samples for each point, and input Hurst exponents between 0 and 1.2 in steps of 0.1. We have plotted the standard deviation in each point for SRA with periodic boundary conditions, and the standard deviation is about the same for the other combinations.%
%     ]{%
%         Plot of the Hurst exponent measured using detrending moving average (DMA), as function of the input Hurst exponent to the synthesizing method. The dashed grey line indicates a measured Hurst exponent of 0.75, the solid grey line a measured exponent exactly equal to the input exponent ($H_\text{in} = H_\text{out}$). The green lines are for surfaces created using periodic boundary conditions (PBC), the red lines using non-periodic boundaries, the dashed lines using successive random additions (SRA), and the solid lines using the regular midpoint displacement method (MDM). We used 100 samples for each point, and input Hurst exponents between 0 and 1.2\protect\footnote{test} in steps of 0.1. We have plotted the standard deviation in each point for SRA with periodic boundary conditions, and the standard deviation is about the same for the other combinations. %
%         \hl{FINISH CAPTION} %
%         \label{fig:diamond_square_testing}%
%     }%
\end{figure}%
\footnotetext{In reality we can not have Hurst exponents greater than 1, but as we see, the midpoint displacement methods generally creates surfaces with a measured exponent ($H_\text{out}$) lower than the input exponent ($H_\text{in}$) for $H_\text{in}>0.5$, so to we use some samples of $H_\text{in}>1$.}%

From the plot in \cref{fig:diamond_square_testing} we see that surfaces with periodic boundaries generally get a lower measured $H$ than non-periodic surfaces, for surfaces with $H>0.5$. We also see that the surfaces generated using the midpoint displacement method (MDM) have very similar Hurst exponents as the ones generated using successive random additions (SRA). We see that the Hurst exponent of all surfaces is generally lower than the input exponent for input $H>0.5$, and lower than the input exponent for input $H<0.5$. We should take note of this when generating surfaces for our experiments, and make sure to measure the actual exponent of the surfaces, since we see that the standard deviation is relatively high.%
% \todobo{Something about why periodic surfaces have lower exponent?}