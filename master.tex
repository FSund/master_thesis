\documentclass[twoside,english,a4paper,12pt]{uiofysmaster}
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
% \usepackage[top=1.5in, bottom=1.5in, left=1in, right=1in]{geometry} % Correct geometry is in uiofysmaster

\overfullrule=5pt % to mark overfull hboxes

\input{preamble/preamble.tex}
\input{preamble/layout_lengths_floats.tex}
\input{preamble/other_packages.tex} % other packages should maybe be loaded before hyperref --- tried this, but it broke all references
\input{preamble/custom_commands_and_settings.tex}

\author{Filip Sund}
\title{\uppercase{Water confined in\\ nanoporous silica}}
\date{June 2014}

% TODO:
% Fix verbatim in listing captions making too long lines
% Decide on caption skips (see preamble)
% MD units in example programs? (especially sampling parts)

% Space before \cite{}??
% ``timestep'' vs ``time step'' ?
% Decide on font size for includesvg (now it's \footnotesize) - Change font size for individual figures with includesvg option pretex = \normalsize
% Decide on main font size (12 or 11 pt)

% Fix \texttt{} linebreak in listing captions (can for example use \caption[<listoflistings caption>]{<actual caption>}
%   - DONE, replaced with monospaced font, which breaks properly

% Decide on code background
% Check distance before and after \AA and \cpp and similar commands
% Check ``htpb'' on all figures that need it (fracture frontpage thing need something else) -- search for begin\{figure\}
% Ensure that footnote for fig:diamond_square_testing end up on correct page (\protect\footnotemark and \footnotetext doesn't know where to place the text)

% Minimum distance below figures/captions?
%   - DID Reset \textfloatsep, \intextsep and \floatsep to defaults in layout_lengths_floats.tex

% Check for isn't, don't, etc.
% Check for \textbf{a)} for subcaptions, replace with \textbf{(a)} ???

% Decide on listing font size (\small or \footnotesize?)
% Check all listings for linewidth (after deciding on listing font size)


% ---- Includeonly stuff ---- %
% \includeonly{molecular_dynamics/introduction}
% \includeonly{molecular_dynamics/simple_md_program}
% \includeonly{molecular_dynamics/optimizations}
% \includeonly{molecular_dynamics/observables}
% \includeonly{molecular_dynamics/ensembles}
% \includeonly{molecular_dynamics/usc_program}
% 
% \includeonly{fractures/fractures}
% \includeonly{fractures/hurst_exponent}
% \includeonly{fractures/detrending_moving_average}
% \includeonly{fractures/generating_surfaces}
% \includeonly{fractures/generating_fractures}
% 
% \includeonly{molecular_dynamics/experimental_procedure}
% \includeonly{molecular_dynamics/measurements}
% \includeonly{results/systems}
% \includeonly{results/results}
% 
% \includeonly{appendices/md_units}
% \includeonly{appendices/integrators}
% \includeonly{appendices/nose_hoover}
% \includeonly{appendices/pressure}
% 
% \includeonly{appendices/integrators}
%
% \includeonly{results/conclusion}
% \includeonly{results/future}
%

% Part 1 - MD
% \includeonly{molecular_dynamics/introduction,molecular_dynamics/simple_md_program,molecular_dynamics/optimizations,molecular_dynamics/observables,molecular_dynamics/ensembles,molecular_dynamics/usc_program}

% Part 2 - Fractures
% \includeonly{fractures/fractures,fractures/hurst_exponent,fractures/detrending_moving_average,fractures/generating_surfaces,fractures/generating_fractures}

% Part 3 - Experiments
% \includeonly{results/introduction,molecular_dynamics/experimental_procedure,molecular_dynamics/measurements,results/systems,results/results}


% \includeonly{introduction,molecular_dynamics/introduction,results/introduction,results/systems,results/results,results/discussion,results/conclusion}


\begin{document}

\pagenumbering{roman}
\includepdf{frontpage.pdf}
\cleardoublepage

\input{abstract}
% \input{dedications}
\input{acknowledgements}

\tableofcontents

\input{introduction}

\part{Molecular dynamics}
    \input{molecular_dynamics/introduction}
    \input{molecular_dynamics/simple_md_program}
        \input{molecular_dynamics/the_main_program}
        \input{molecular_dynamics/calculation_of_forces}
        \input{molecular_dynamics/integration_scheme.tex}
        \input{molecular_dynamics/boundary_conditions.tex}
        \input{molecular_dynamics/force_truncation.tex}
        \input{molecular_dynamics/observables}
    \input{molecular_dynamics/ensembles}
        \input{molecular_dynamics/berendsen.tex}
        \input{molecular_dynamics/andersen.tex}
        \input{molecular_dynamics/nose_hoover.tex}
    \input{molecular_dynamics/usc_program}
        \input{molecular_dynamics/usc_potential}
        \input{molecular_dynamics/usc_integrator}

\part{Fractures}
    \input{fractures/introduction}
    \input{fractures/fractures}
        \input{fractures/hurst_exponent}
        \input{fractures/detrending_moving_average}
    \input{fractures/generating_surfaces}
        \input{fractures/midpoint_displacement_methods}
        \input{fractures/successive_random_additions}
            \input{fractures/sra_infinite_grids}
            \input{fractures/sra_finite_size_effects}
            \input{fractures/sra_implementation}
            \input{fractures/sra_validation}
        \input{fractures/generating_fractures}
            \input{fractures/fractures_point_in_tetrahedron}

\part{Simulations}
    \input{simulations/introduction}
    \input{simulations/simulation_procedure}
        \input{simulations/initialization}
        \input{simulations/passivation}
        \FloatBarrier
        \input{simulations/injecting_water}
    \input{simulations/measurements}
        \input{simulations/distance_to_silica_matrix}
        \input{simulations/voxelation}
        \FloatBarrier
        \input{simulations/density}
        \input{simulations/diffusion}
        \input{simulations/tetrahedral_order_parameter}
        \FloatBarrier
        \input{simulations/distance_to_atom}
        \input{simulations/generation_matrix}
        
    \input{results/systems}
        \FloatBarrier
        \input{results/renderings}
        
    \input{results/results}
        \input{results/density}
        \FloatBarrier
        \input{results/diffusion}
        \FloatBarrier
        \input{results/tetrahedral_order_parameter}
        \FloatBarrier
        \input{results/distance_to_atom}
        % \FloatBarrier
        \input{results/generation_matrix}
        \FloatBarrier

% \part{Conclusion and future}
    \chapter{Discussion, conclusions and future}
        \input{results/discussion}
        \input{results/conclusion}

\part{Appendices}
\begin{appendix}
%     \input{appendices/md_units} % remove md units completely?
    \input{appendices/integrators}
    \input{appendices/nose_hoover}
%     \input{appendices/pressure} % haven't measure pressure, and haven't derived it either
\end{appendix}

\listoffigures
\listoftables
\listoflistings
\printbibliography

\listoftodos

\end{document}
