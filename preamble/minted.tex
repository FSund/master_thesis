% Need to load the float package before hyperref, so hyperref detects and patches it, so when we load minted later it uses the patched \newfloat (minted loads float). 
% More info here: http://tex.stackexchange.com/questions/19371/minteds-listing-environment-with-hyperref-and-caption-package-together

\usemintedstyle{colorful}
\definecolor{codebg}{rgb}{0.95,0.95,0.95}
% \definecolor{codebg}{rgb}{0.99216,0.96470,0.89020} % base3
% \definecolor{codebg}{rgb}{0.82745098,0.850980392,0.850980392} % base1 brightened a bit
%  \definecolor{codebg}{rgb}{0.91372549,0.9254902,0.9254902} % base1 brightened some more
% \definecolor{codebg}{rgb}{0.93333333, 0.90980392, 0.83529412} % base2
% \definecolor{codebg}{rgb}{0.95686275,  0.94509804,  0.89803922} % brighter base2

\newminted[cppcode]{mdcpp}{ % can use \newminted{cpp} to replace default ``cpp'', gives the same result
    mathescape,
%     frame=lines,
%     framesep=2mm,
    bgcolor = codebg,
%     fontsize = \small,
    fontsize = \footnotesize,
%     fontfamily = courier
} 
% usage: \begin{cppcode}
% use \begin{cppcode*}{<extra options>} if you want to add extra options on the fly

% More options:
% \renewcommand\listingscaption{Program code}
% \renewcommand\listoflistingscaption{List of program codes}

% FIX LIST OF LISTINGS: 
% http://tex.stackexchange.com/a/58498/31078
% http://tex.stackexchange.com/questions/14856/change-spacing-between-elements-in-newfloat-listof/14867#14867
% http://tex.stackexchange.com/questions/139533/using-listing-with-minted-gets-wrong-listoflistingscaption
